
''spatialite-rest'' is the implementation of a very basic spatialite REST wsgi Gateway
in perl. It serves geometries from the spatialite as GeoJSON for displaying via Leaflet.

All Styles, Layers etc are contained within the spatialites.

Apache config
=============

You will need to enable mod_perl via `a2enmod mod_perl`

    PerlOptions +Parent
    
    <Perl>
    	$ENV{PLACK_ENV} = 'production';
    	$ENV{MOJO_HOME} = '/var/www/osm.zz.de/spatialite-rest';
    	$ENV{MOJO_MODE} = 'deployment';
    </Perl>
    
    <Location /spatialite-rest/>
    	SetHandler perl-script
    	PerlResponseHandler Plack::Handler::Apache2
    	PerlSetVar psgi_app /var/www/osm.zz.de/spatialite-rest/spatiaserv
    </Location>     


Todo / Ideas
============

- Only send date/time in bbox request not full meta
  - If data/process time changes reinit/reload layer/meta
    so that if style etc has changed we will switch
- Possibility to send feature limit to backend
- Show if feature limit has been reached
- Zoom limit from layer config e.g. if on to high zoom level dont issue bbox
  but delete layer - Show a statement to zoom in
- Load signalling somewhere 
- File serve url route
- Display long description of layer processing (iframe popover with
  file from database?)
- Possibility to address style by a database column
- Slide in on left with a list of layers
- Fix remote control link deleting position "#" anchor
- Add possibility of an RSS feed based on the current view
  -> Database column with feature bbox and RSS info
- Feature selection for edit link 
  -> multiple ways, relations, nodes
- Backend call to hide features (processed)
  -> Needs "empty" database column for hidden features
  -> Could we simply change the style and popup?
- Dont send full meta information in every request

Installation
============

apt-get install libhash-flatten-perl
